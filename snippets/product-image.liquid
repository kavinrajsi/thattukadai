<div class="product-card__image-wrapper">
  {% if product.featured_image %}
    {% assign second_image = product.images[1] %}

    <picture>
      <source
        srcset="{{ product.featured_image | image_url: width: 265, height:320, format: 'webp' }}"
        type="image/webp"
      >
      <img
        class="product-card__image product-card__image--primary"
        src="{{ product.featured_image | image_url: width: 265, height:320 }}"
        alt="{{ product.featured_image.alt | escape }}"
        width="265"
        height="320"
        loading="lazy"
      >
    </picture>

    {% if second_image %}
      <picture>
        <source srcset="{{ second_image | image_url: width: 265, height:320, format: 'avif' }}" type="image/avif">
        <source srcset="{{ second_image | image_url: width: 265, height:320, format: 'webp' }}" type="image/webp">
        <img
          class="product-card__image product-card__image--secondary"
          src="{{ second_image | image_url: width: 265, height:320 }}"
          alt="{{ second_image.alt | escape }}"
          width="265"
          height="320"
          loading="lazy"
        >
      </picture>
    {% endif %}

  {% else %}
    <!-- Placeholder fallback -->
    <div class="product-card__image product-card__image--placeholder">
      {{ 'product-5' | placeholder_svg_tag }}
    </div>
  {% endif %}
</div>

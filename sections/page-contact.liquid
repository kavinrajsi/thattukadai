{% comment %}
  Contact Section with Map, Info, and Form
  Allows custom SVG code for social media icons in Theme Editor.
{% endcomment %}

<section id="contact-{{ section.id }}" class="contact-section">
  <div class="contact-container page-width">
    <!-- Heading -->
    <div class="contact-header">
      <a href="{{ section.settings.cta_link }}" class="contact-btn">{{ section.settings.cta_label }}</a>
      <h2 class="contact-title">{{ section.settings.heading }}</h2>
    </div>

    <!-- Map -->
    <div class="contact-map">
      {{ section.settings.map_iframe }}
    </div>

    <!-- Info + Form -->
    <div class="contact-grid">
      <div class="contact-info">
        <h3>Address</h3>
        <p>
          {{ section.settings.address_line_1 -}}
          <br>
          {{ section.settings.address_line_2 }}
        </p>

        <h3>Informations</h3>
        <p>
          <a href="tel:{{ section.settings.phone }}">{{ section.settings.phone }}</a><br>
          <a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a>
        </p>

        <h3>Social Media</h3>
        <div class="social-icons">
          {% if section.settings.instagram_url != blank %}
            <a href="{{ section.settings.instagram_url }}" target="_blank" aria-label="Instagram">
              {% if section.settings.instagram_svg != blank %}
                {{ section.settings.instagram_svg }}
              {% else %}
                <div class="social-placeholder"></div>
              {% endif %}
            </a>
          {% endif %}

          {% if section.settings.facebook_url != blank %}
            <a href="{{ section.settings.facebook_url }}" target="_blank" aria-label="Facebook">
              {% if section.settings.facebook_svg != blank %}
                {{ section.settings.facebook_svg }}
              {% else %}
                <div class="social-placeholder"></div>
              {% endif %}
            </a>
          {% endif %}

          {% if section.settings.youtube_url != blank %}
            <a href="{{ section.settings.youtube_url }}" target="_blank" aria-label="YouTube">
              {% if section.settings.youtube_svg != blank %}
                {{ section.settings.youtube_svg }}
              {% else %}
                <div class="social-placeholder"></div>
              {% endif %}
            </a>
          {% endif %}
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-form">
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <p class="form-success">Thank you! Your message has been sent.</p>
          {% endif %}
          {% if form.errors %}
            <div class="form-errors">{{ form.errors | default_errors }}</div>
          {% endif %}

          <div class="form-grid">
            <input type="text" name="contact[name]" placeholder="Full Name*" required>
            <input type="email" name="contact[email]" placeholder="Email Address*" required>
          </div>
          <input type="tel" name="contact[phone]" placeholder="Phone Number*">
          <textarea name="contact[body]" placeholder="Message" rows="5"></textarea>

          <button type="submit" class="submit-btn">{{ section.settings.submit_label }}</button>
        {% endform %}
      </div>
    </div>
  </div>

  <style>
    #contact-{{ section.id }} {
      background: #f7f7f6;
      padding: 50px 0 80px;
      color: #111;
    }

    .contact-container { max-width: 1150px; margin: 0 auto; padding: 0 20px; }

    .contact-header { text-align: center; margin-bottom: 20px; }
    .contact-btn {
      background: #f2c41e;
      padding: 8px 20px;
      border-radius: 20px;
      font-weight: 600;
      text-decoration: none;
      color: #111;
    }
    .contact-title { margin-top: 12px; font-size: 22px; }

    .contact-map iframe {
      width: 100%;
      height: 340px;
      border: none;
      border-radius: 12px;
    }

    .contact-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 24px;
      margin-top: 30px;
    }

    .contact-info h3 {
      margin: 20px 0 6px;
      font-size: 18px;
    }

    .contact-info p a {
      color: inherit;
      text-decoration: none;
    }

    .social-icons {
      display: flex;
      gap: 12px;
      margin-top: 10px;
    }

    .social-icons a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      background: white;
      color: #111;
      transition: transform 0.2s ease, background 0.2s;
      box-shadow: 0 0 0 1px #e5e5e5;
    }

    .social-icons a:hover {
      background: #f2c41e;
      transform: translateY(-2px);
    }

    .social-placeholder {
      width: 18px;
      height: 18px;
      border-radius: 50%;
      background: #ccc;
    }

    .contact-form {
      background: white;
      border-radius: 12px;
      padding: 20px;
      box-shadow: 0 0 2px rgba(0,0,0,0.1);
    }

    .form-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 10px;
      margin-bottom: 10px;
    }

    input, textarea {
      width: 100%;
      padding: 12px;
      border: 1px solid #eee;
      border-radius: 6px;
      background: #fff9e7;
    }

    .submit-btn {
      background: #f2c41e;
      border: none;
      padding: 10px 20px;
      border-radius: 20px;
      font-weight: 600;
      cursor: pointer;
    }

    @media (min-width: 992px) {
      .contact-grid {
        grid-template-columns: 1fr 1.2fr;
        gap: 40px;
      }
      .form-grid {
        grid-template-columns: 1fr 1fr;
        gap: 14px;
      }
    }
  </style>
</section>

{% schema %}
{
  "name": "Contact with Map & Form",
  "settings": [
    { "type": "text", "id": "cta_label", "label": "Top Button Text", "default": "Contact Us" },
    { "type": "url", "id": "cta_link", "label": "Top Button Link" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "WE'D LOVE TO HEAR FROM YOU" },

    { "type": "textarea", "id": "map_iframe", "label": "Google Map iframe" },
    { "type": "text", "id": "address_line_1", "label": "Address Line 1", "default": "6, 957, Srivilliputhur Main Rd," },
    {
      "type": "text",
      "id": "address_line_2",
      "label": "Address Line 2",
      "default": "Satchiyapuram, Sivakasi, Tamil Nadu 626124"
    },
    { "type": "text", "id": "phone", "label": "Phone Number", "default": "8072225338" },
    { "type": "text", "id": "email", "label": "Email", "default": "velayuthanadarsweets@gmail.com" },

    { "type": "header", "content": "Social Media Links & Icons" },
    { "type": "url", "id": "instagram_url", "label": "Instagram URL" },
    { "type": "textarea", "id": "instagram_svg", "label": "Instagram SVG Icon Code" },
    { "type": "url", "id": "facebook_url", "label": "Facebook URL" },
    { "type": "textarea", "id": "facebook_svg", "label": "Facebook SVG Icon Code" },
    { "type": "url", "id": "youtube_url", "label": "YouTube URL" },
    { "type": "textarea", "id": "youtube_svg", "label": "YouTube SVG Icon Code" },

    { "type": "text", "id": "submit_label", "label": "Submit Button Text", "default": "Submit" }
  ],
  "presets": [{ "name": "Contact Map + Form (Custom Icons)" }]
}
{% endschema %}

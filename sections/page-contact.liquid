{% comment %}
  Contact Section with Map, Info, and Form
  Allows custom SVG code for social media icons in Theme Editor.
{% endcomment %}

<section id="contact-{{ section.id }}" class="contact-section">
  <div class="contact-container layout__grid-box">
    <!-- Heading -->
    <div class="contact-header">
      <a href="{{ section.settings.cta_link }}" class="contact-btn">{{ section.settings.cta_label }}</a>
      <h2 class="contact-title">{{ section.settings.heading }}</h2>
    </div>

    <!-- Map -->
    <div class="contact-map">
      {{ section.settings.map_iframe }}
    </div>

    <!-- Info + Form -->
    <div class="contact-grid">
      <div class="contact-info">
        <div class="contact-info-address">
          <h3>Address</h3>
          <p>
            {{ section.settings.address_line_1 -}}
            <br>
            {{ section.settings.address_line_2 }}
          </p>
        </div>
        <div class="contact-info-contact">
          <h3>Informations</h3>
          <p>
            <a href="tel:{{ section.settings.phone }}">{{ section.settings.phone }}</a><br>
            <a href="mailto:{{ section.settings.email }}">{{ section.settings.email }}</a>
          </p>
        </div>
        <div class="contact-info-social-icons">
          <h3>Social Media</h3>
          <div class="icons">
            {% if section.settings.instagram_url != blank %}
              <a href="{{ section.settings.instagram_url }}" target="_blank" aria-label="Instagram">
                {% if section.settings.instagram_svg != blank %}
                  {{ section.settings.instagram_svg }}
                {% else %}
                  <div class="social-placeholder"></div>
                {% endif %}
              </a>
            {% endif %}

            {% if section.settings.facebook_url != blank %}
              <a href="{{ section.settings.facebook_url }}" target="_blank" aria-label="Facebook">
                {% if section.settings.facebook_svg != blank %}
                  {{ section.settings.facebook_svg }}
                {% else %}
                  <div class="social-placeholder"></div>
                {% endif %}
              </a>
            {% endif %}

            {% if section.settings.youtube_url != blank %}
              <a href="{{ section.settings.youtube_url }}" target="_blank" aria-label="YouTube">
                {% if section.settings.youtube_svg != blank %}
                  {{ section.settings.youtube_svg }}
                {% else %}
                  <div class="social-placeholder"></div>
                {% endif %}
              </a>
            {% endif %}
          </div>
        </div>
      </div>

      <!-- Contact Form -->
      <div class="contact-contactForm">
        {% form 'contact' %}
          {% if form.posted_successfully? %}
            <p class="form-success">Thank you! Your message has been sent.</p>
          {% endif %}
          {% if form.errors %}
            <div class="form-errors">{{ form.errors | default_errors }}</div>
          {% endif %}

          <div class="form-grid">
            <input type="text" name="contact[name]" placeholder="Full Name*" required>
            <input type="email" name="contact[email]" placeholder="Email Address*" required>
          </div>
          <input type="tel" name="contact[phone]" placeholder="Phone Number*">
          <textarea name="contact[body]" placeholder="Message" rows="5"></textarea>

          <button type="submit" class="submit-btn">{{ section.settings.submit_label }}</button>
        {% endform %}
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Contact with Map & Form",
  "settings": [
    { "type": "text", "id": "cta_label", "label": "Top Button Text", "default": "Contact Us" },
    { "type": "url", "id": "cta_link", "label": "Top Button Link" },
    { "type": "text", "id": "heading", "label": "Heading", "default": "WE'D LOVE TO HEAR FROM YOU" },

    { "type": "textarea", "id": "map_iframe", "label": "Google Map iframe" },
    { "type": "text", "id": "address_line_1", "label": "Address Line 1", "default": "6, 957, Srivilliputhur Main Rd," },
    {
      "type": "text",
      "id": "address_line_2",
      "label": "Address Line 2",
      "default": "Satchiyapuram, Sivakasi, Tamil Nadu 626124"
    },
    { "type": "text", "id": "phone", "label": "Phone Number", "default": "8072225338" },
    { "type": "text", "id": "email", "label": "Email", "default": "velayuthanadarsweets@gmail.com" },

    { "type": "header", "content": "Social Media Links & Icons" },
    { "type": "url", "id": "instagram_url", "label": "Instagram URL" },
    { "type": "textarea", "id": "instagram_svg", "label": "Instagram SVG Icon Code" },
    { "type": "url", "id": "facebook_url", "label": "Facebook URL" },
    { "type": "textarea", "id": "facebook_svg", "label": "Facebook SVG Icon Code" },
    { "type": "url", "id": "youtube_url", "label": "YouTube URL" },
    { "type": "textarea", "id": "youtube_svg", "label": "YouTube SVG Icon Code" },

    { "type": "text", "id": "submit_label", "label": "Submit Button Text", "default": "Submit" }
  ],
  "presets": [{ "name": "Contact Map + Form (Custom Icons)" }]
}
{% endschema %}
